<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WWJ的个人主页</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- 添加网站图标 -->
    <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>
    <!-- 导航栏 -->
    <header class="nav-header">
        <nav class="nav-container">
            <div class="logo">
                <a href="#" class="logo-link" data-index="0">
                    <img src="images/weblogo.png" alt="MyPage Logo" class="logo-image">
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="#write-email" class="nav-link" data-index="1">写邮件</a></li>
                <li><a href="#portfolio" class="nav-link" data-index="2">作品集</a></li>
                <li><a href="#contact" class="nav-link" data-index="3">联系我</a></li>
            </ul>
        </nav>
    </header>

    <!-- 页面容器 -->
    <div class="fullpage-container">
        <!-- 主视觉区域 -->
        <section class="section hero" id="home">
            <div class="hero-content">
                <h1 class="hero-title">智能邮件助手</h1>
                <p class="hero-subtitle">专业的邮件回复，让沟通更轻松</p>
                <a href="#write-email" class="cta-button next-section">开始使用</a>
            </div>
        </section>

        <!-- 写邮件区域 -->
        <section class="section write-email" id="write-email">
            <div class="email-editor-container">
                <!-- 左侧输入区域 -->
                <div class="input-panel">
                    <div class="panel-header">
                        <h2>写邮件</h2>
                        <button class="attachment-btn" title="添加附件">
                            <svg viewBox="0 0 24 24" class="paperclip-icon">
                                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
                            </svg>
                        </button>
                    </div>
                    <div class="editor-content">
                        <div class="email-form">
                            <div class="form-group">
                                <div class="content-editor" contenteditable="true" placeholder="请输入您想要发送的邮件内容..."></div>
                            </div>
                            <div class="attachments-list">
                                <!-- 附件列表将在这里动态显示 -->
                            </div>
                        </div>
                        <input type="file" id="file-upload" multiple style="display: none" accept=".doc,.docx,.pdf,.xls,.xlsx">
                        <button class="send-btn">生成回复</button>
                    </div>
                </div>

                <!-- 右侧输出区域 -->
                <div class="output-panel">
                    <div class="panel-header">
                        <h2>AI 回复预览</h2>
                        <button class="copy-btn" title="复制到剪贴板">
                            <svg viewBox="0 0 24 24" class="copy-icon">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-2"/>
                                <path d="M16 2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="ai-response">
                        <div class="email-preview">
                            <div class="preview-content">
                                <p class="placeholder-text">AI 将根据您的输入生成邮件内容...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 作品集区域 -->
        <section class="section portfolio" id="portfolio">
            <div class="container">
                <h2 class="section-title">作品集</h2>
                <p class="section-subtitle">我的一些项目展示</p>
                <div class="portfolio-grid">
                    <div class="portfolio-item">
                        <div class="portfolio-image">
                            <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&h=600&q=80" alt="智能邮件助手">
                            <div class="portfolio-overlay">
                                <div class="portfolio-info">
                                    <h3>智能邮件助手</h3>
                                    <p>基于AI的邮件回复生成工具</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="portfolio-item">
                        <div class="portfolio-image">
                            <img src="https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&h=600&q=80" alt="个人网站">
                            <div class="portfolio-overlay">
                                <div class="portfolio-info">
                                    <h3>个人网站</h3>
                                    <p>响应式设计的现代化个人主页</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="portfolio-item">
                        <div class="portfolio-image">
                            <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&h=600&q=80" alt="数据分析工具">
                            <div class="portfolio-overlay">
                                <div class="portfolio-info">
                                    <h3>数据分析工具</h3>
                                    <p>商业数据可视化平台</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 联系我区域 -->
        <section class="section contact" id="contact">
            <div class="container">
                <h2 class="section-title">联系我</h2>
                <p class="section-subtitle">让我们开始一段对话</p>
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="info-item">
                            <svg class="info-icon" viewBox="0 0 24 24">
                                <path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/>
                            </svg>
                            <div class="info-text">
                                <h3>社交媒体</h3>
                                <p>关注我的最新动态</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <svg class="info-icon" viewBox="0 0 24 24">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            </svg>
                            <div class="info-text">
                                <h3>邮件联系</h3>
                                <p>随时恭候您的来信</p>
                            </div>
                        </div>
                    </div>
                    <form class="contact-form" action="mailto:hello_wwj@163.com" method="post" enctype="text/plain">
                        <div class="form-group">
                            <input type="text" name="name" placeholder="您的姓名" required>
                        </div>
                        <div class="form-group">
                            <input type="email" name="email" placeholder="您的邮箱" required>
                        </div>
                        <div class="form-group">
                            <textarea name="message" placeholder="您的留言" required></textarea>
                        </div>
                        <button type="submit" class="submit-button">发送消息</button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <!-- 页面指示器 -->
    <div class="page-indicator">
        <span class="indicator active" data-index="0"></span>
        <span class="indicator" data-index="1"></span>
        <span class="indicator" data-index="2"></span>
        <span class="indicator" data-index="3"></span>
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-link');
            let currentSection = 0;

            // 检测是否为移动设备
            const isMobileDevice = () => {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
            };

            // 更新活动状态
            function updateActiveState(index) {
                // 更新导航链接状态
                navLinks.forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`.nav-link[data-index="${index}"]`);
                if (activeLink && index !== 0) {
                    activeLink.classList.add('active');
                }

                // 更新页面显示状态
                sections.forEach((section, i) => {
                    if (i === index) {
                        section.style.display = 'block';
                        setTimeout(() => {
                            section.style.opacity = '1';
                        }, 50);
                    } else {
                        section.style.opacity = '0';
                        setTimeout(() => {
                            section.style.display = 'none';
                        }, 300);
                    }
                });
            }

            // 切换到指定页面
            function goToSection(index) {
                if (isMobileDevice()) {
                    currentSection = index;
                    updateActiveState(index);
                } else {
                    if (index < 0 || index >= sections.length) return;
                    const translateY = -100 * index;
                    document.querySelector('.fullpage-container').style.transform = `translateY(${translateY}vh)`;
                    currentSection = index;
                    updateActiveState(index);
                }
            }

            // 初始化页面状态
            function initializePageState() {
                if (isMobileDevice()) {
                    // 移动端：显示第一个页面，隐藏其他页面
                    sections.forEach((section, i) => {
                        if (i === 0) {
                            section.style.display = 'block';
                            section.style.opacity = '1';
                        } else {
                            section.style.display = 'none';
                            section.style.opacity = '0';
                        }
                    });
                    document.querySelector('.page-indicator').style.display = 'none';
                } else {
                    // 桌面端：重置所有页面状态
                    sections.forEach(section => {
                        section.style.display = 'block';
                        section.style.opacity = '1';
                    });
                    document.querySelector('.fullpage-container').style.transform = 'translateY(0)';
                    document.querySelector('.page-indicator').style.display = 'flex';
                }
                updateActiveState(currentSection);
            }

            // 初始化
            initializePageState();
            window.addEventListener('resize', initializePageState);

            // 导航事件监听
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const index = parseInt(link.getAttribute('data-index'));
                    goToSection(index);
                });
            });

            // Logo点击事件
            document.querySelector('.logo-link').addEventListener('click', (e) => {
                e.preventDefault();
                goToSection(0);
            });

            // 开始使用按钮点击事件
            document.querySelector('.cta-button').addEventListener('click', (e) => {
                e.preventDefault();
                goToSection(1);
            });
        });
    </script>

    <!-- 邮件功能相关 JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const attachmentBtn = document.querySelector('.attachment-btn');
            const fileUpload = document.querySelector('#file-upload');
            const attachmentsList = document.querySelector('.attachments-list');
            const contentEditor = document.querySelector('.content-editor');
            const sendBtn = document.querySelector('.send-btn');
            const previewContent = document.querySelector('.preview-content');
            const copyBtn = document.querySelector('.copy-btn');
            let attachments = [];

            // 附件处理
            attachmentBtn.addEventListener('click', () => fileUpload.click());

            fileUpload.addEventListener('change', (e) => {
                const files = Array.from(e.target.files);
                files.forEach(file => {
                    if (attachments.length >= 5) {
                        alert('最多只能添加5个附件');
                        return;
                    }
                    attachments.push(file);
                    displayAttachment(file);
                });
                fileUpload.value = '';
            });

            function displayAttachment(file) {
                const div = document.createElement('div');
                div.className = 'attachment-item';
                div.innerHTML = `
                    <span class="file-name">${file.name}</span>
                    <button class="remove-file" data-name="${file.name}">×</button>
                `;
                attachmentsList.appendChild(div);

                div.querySelector('.remove-file').addEventListener('click', function() {
                    attachments = attachments.filter(f => f.name !== this.getAttribute('data-name'));
                    div.remove();
                });
            }

            // 发送和复制功能
            sendBtn.addEventListener('click', async () => {
                const content = contentEditor.innerText.trim();
                if (!content) {
                    alert('请输入邮件内容');
                    return;
                }
                previewContent.innerHTML = '<div class="loading">正在生成回复...</div>';
                try {
                    const response = await generateEmailResponse(content);
                    displayResponse(response);
                } catch (error) {
                    previewContent.innerHTML = `
                        <div class="error-message">生成回复时出错</div>
                    `;
                }
            });

            copyBtn.addEventListener('click', () => {
                const emailBody = previewContent.querySelector('.email-body');
                if (!emailBody) {
                    alert('没有可复制的内容');
                    return;
                }
                const textarea = document.createElement('textarea');
                textarea.value = emailBody.innerText;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    alert('内容已复制到剪贴板');
                } catch (err) {
                    alert('复制失败，请手动复制');
                }
                document.body.removeChild(textarea);
            });

            // 辅助函数
            function displayResponse(response) {
                previewContent.innerHTML = `
                    <div class="email-body">${response.replace(/\n/g, '<br>')}</div>
                `;
            }

            // 编辑器处理
            contentEditor.addEventListener('paste', function(e) {
                e.preventDefault();
                const text = (e.clipboardData || window.clipboardData).getData('text/plain');
                document.execCommand('insertText', false, text);
            });
        });
    </script>
</body>
</html> 